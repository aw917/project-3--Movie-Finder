(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{10:function(e,t){e.exports="3b12114f"},27:function(e,t,n){},28:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),r=n(20),o=n.n(r),i=(n(27),n(11)),l=n(2),u=n(10),j=n.n(u),b=(n(28),function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"https://images.unsplash.com/photo-1486395130845-ec128138002e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",alt:"ominous lightbulbs",className:"lightbulb-main"}),Object(c.jsx)("marquee",{behavior:"scroll",direction:"left",children:"movies can be...enlightening!"}),Object(c.jsxs)("div",{className:"index-description",children:[Object(c.jsx)("h2",{children:"Welcome to movie finder!"}),Object(c.jsxs)("p",{children:["Movie finder specializes in a simple way to find movies and add them to a list of favorites that you can watch later! Go to the 'Movie Finder' page to find fun movies to watch!  See something you like?  Add it to your favorites with a note. You will be able to edit these notes at any time!",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Happy viewing!"]})]})]})}),d=n(3),f=n.n(d),h=n(8),p=n(9),m=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),n=(t[0],t[1]),a=Object(s.useState)([]),r=Object(p.a)(a,2),o=r[0],i=r[1],l=Object(s.useState)([]),u=Object(p.a)(l,2),b=u[0],d=u[1],m=Object(s.useState)([]),v=Object(p.a)(m,2),x=v[0],O=v[1],g=(Object(s.useRef)(null),function(){var e=Object(h.a)(f.a.mark((function e(t){var n,c,s,a,r,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],c=0;case 2:if(!(c<t.length)){e.next=22;break}return s=t[c],e.prev=4,a="http://www.omdbapi.com/?i=".concat(s,"&apikey=").concat(j.a),e.next=8,fetch(a);case 8:return r=e.sent,e.next=11,r.json();case 11:o=e.sent,l=o,n.push(l),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log("Failed to retrieve data");case 19:c++,e.next=2;break;case 22:i(n);case 23:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}()),y=function(){var e=Object(h.a)(f.a.mark((function e(){var t,c,s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://www.omdbapi.com/?s=".concat(b,"&y=").concat(x,"&type=movie&apikey=").concat(j.a),e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:s=e.sent,n(s),a=s.Search.map((function(e){return e.imdbID})),g(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Failed to retrieve data");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i([]),y();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(f.a.mark((function e(t,n){var c,s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=n,s=JSON.stringify({imdbID:c,note:""}),t.currentTarget.reset(),console.log(s),e.prev=5,e.next=8,fetch("http://localhost:3001/favorites",{method:"POST",headers:{"Content-type":"application/json"},body:s});case 8:return a=e.sent,e.next=11,a.json();case 11:e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){console.log("use effect")}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"movie-search-section",children:[Object(c.jsx)("h2",{children:"Search for a movie!"}),Object(c.jsx)("p",{children:"Only the title is required, the year can just help you find a specific movie."}),Object(c.jsxs)("form",{onSubmit:w,children:[Object(c.jsx)("label",{htmlFor:"title",children:"Title"}),Object(c.jsx)("input",{type:"text",id:"title",className:"movie-search-input",value:b,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"year",children:"Year"}),Object(c.jsx)("input",{type:"number",id:"year",className:"movie-search-input",value:x,onChange:function(e){return O(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Search",className:"movie-search-button"})]})]}),Object(c.jsx)("ul",{children:o.map((function(e){return Object(c.jsxs)("div",{className:"movies-search-results",children:[Object(c.jsxs)("p",{children:[e.Title," (",e.Year,")"]}),Object(c.jsx)("img",{src:"".concat(e.Poster),alt:e.Title}),Object(c.jsx)("form",{onSubmit:function(t){N(t,e.imdbID)},className:"movies-note-form",children:Object(c.jsx)("input",{type:"submit",value:"Add to Favorites",className:"movie-note-button"})}),Object(c.jsxs)("div",{className:"subinfo-for-movies",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Director"}),": ",e.Director]},"director-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Country"}),": ",e.Country]},"country-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Awards"}),": ",e.Awards]},"awards-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Genre"}),": ",e.Genre]},"genre-".concat(e.imdbID))]})]})}))})]})},v=function(e){var t=e.mapIndex,n=e.e,a=e.getMovieFromLocalAPI,r=(e.setMovieInfo,e.favorites,e.movieInfo,Object(s.useState)("")),o=Object(p.a)(r,2),i=o[0],l=o[1],u=function(){var e=Object(h.a)(f.a.mark((function e(t,n,c,s){var r,o,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),console.log(i),e.prev=2,r={note:i},o=JSON.stringify(r),console.log(o),e.next=8,fetch("http://localhost:3001/favorites/".concat(t),{method:"PUT",headers:{"Content-type":"application/json"},body:o});case 8:return l=e.sent,e.next=11,l.json();case 11:u=e.sent,console.log(u),a(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,n,c,s){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{onSubmit:function(e){u(n._id,n.imdbID,e,t)},className:"movies-note-form",children:[Object(c.jsx)("input",{type:"text",className:"movie-note-input",value:i,onChange:function(e){l(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Update Note",className:"update-movie-note-button"})]})};n(30).config();var x=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),o=Object(p.a)(r,2),i=o[0],l=o[1],u=Object(s.useState)([]),b=Object(p.a)(u,2),d=(b[0],b[1],Object(s.useRef)(null),function(){var e=Object(h.a)(f.a.mark((function e(t){var n,c,s,a,r,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],c=0;case 2:if(!(c<t.length)){e.next=25;break}return s=t[c].imdbID,e.prev=4,a="http://www.omdbapi.com/?i=".concat(s,"&apikey=").concat(j.a),e.next=8,fetch(a);case 8:return r=e.sent,e.next=11,r.json();case 11:o=e.sent,(u=o)._id=t[c]._id,u.note=t[c].note,n.push(u),console.log(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("Failed to retrieve data");case 22:c++,e.next=2;break;case 25:l(n),console.log(i);case 27:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}()),m=function(){var e=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(j.a),e.prev=1,"http://localhost:3001/favorites/",e.next=5,fetch("http://localhost:3001/favorites/");case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,a(n),d(n),console.log({data:n}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Failed to retrieve data");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(f.a.mark((function e(t,n,c){var s,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:3001/favorites/".concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,r=i.filter((function(e){return e.dbID!==a.dbID})),l(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){console.log("use effect"),m()}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"header-for-favorites",children:"Favorites Page"}),i.map((function(e,t){return Object(c.jsxs)("div",{className:"movies-search-results",children:[Object(c.jsxs)("p",{children:[e.Title," (",e.Year,")"]}),Object(c.jsx)("img",{src:"".concat(e.Poster),alt:e.Title}),Object(c.jsx)("button",{onClick:function(t){x(e._id,e.imdbID,t)},children:"Remove from favorites"}),Object(c.jsx)(v,{mapIndex:t,e:e,getMovieFromLocalAPI:m,setMovieInfo:l,movieInfo:i,favorites:n}),Object(c.jsxs)("div",{className:"subinfo-for-movies",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Note"}),": ",e.note]},"note-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Director"}),": ",e.Director]},"director-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Country"}),": ",e.Country]},"country-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Awards"}),": ",e.Awards]},"awards-".concat(e.imdbID)),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{className:"subinfo-for-movies-header",children:"Genre"}),": ",e.Genre]},"genre-".concat(e.imdbID))]})]})}))]})};var O=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("title",{children:"Movie Finder"}),Object(c.jsx)("nav",{children:Object(c.jsxs)("div",{className:"nav-links",children:[Object(c.jsx)(i.b,{className:"nav-links-for-css",to:"/",children:"Home"}),Object(c.jsx)(i.b,{className:"nav-links-for-css",to:"/movies",children:"Movie Finder"}),Object(c.jsx)(i.b,{className:"nav-links-for-css",to:"/favorites",children:"Favorites"})]})}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:b}),Object(c.jsx)(l.a,{path:"/movies",component:m}),Object(c.jsx)(l.a,{path:"/Favorites",component:x})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(i.a,{children:Object(c.jsx)(O,{})})}),document.getElementById("root")),g()}},[[38,1,2]]]);
//# sourceMappingURL=main.c096ba3d.chunk.js.map